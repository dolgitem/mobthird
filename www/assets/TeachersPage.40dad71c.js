import{c as h,r as d,R as g,w as v,aU as y,k as t,l as i,m as s,j as l,A as k,y as u,ab as Q,D as S,p as m,n as x,q as b,F as w}from"./index.d21efca5.js";import{Q as B,a as I}from"./QInfiniteScroll.fb4c13e3.js";import{Q as V}from"./QPullToRefresh.53e3780d.js";import{_ as L}from"./TeacherItem.fe2ee4c7.js";import{u as P}from"./teachers.d3cab69d.js";import"./TouchPan.239cc0c7.js";import"./QImg.77e28795.js";const R={key:0},T={class:"row justify-center q-my-md"},C={__name:"TeachersPage",setup(U){const e=P(),f=h(()=>e.teachers),c=d(null),a=d(!1);g(()=>{e.reset(),e.resetSearch()});const p=(r,n)=>{e.nextPage().then(()=>{n(),a.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})},_=r=>{a.value=!1,e.reset(),e.nextPage().then(()=>{r(),a.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})};return v(()=>e.search,y(async r=>{a.value=!1,e.reset(),c.value&&c.value.trigger()},300)),(r,n)=>(t(),i(V,{onRefresh:_},{default:s(()=>[l(Q,{standout:"",dense:"",clearable:"",label:"\u041F\u043E\u0438\u0441\u043A",modelValue:u(e).search,"onUpdate:modelValue":n[0]||(n[0]=o=>u(e).search=o)},{prepend:s(()=>[l(k,{name:"fa-solid fa-search"})]),_:1},8,["modelValue"]),l(I,{onLoad:p,offset:50,ref_key:"infiniteScroll",ref:c,disable:a.value},{loading:s(()=>[S("div",T,[l(B,{color:"primary",size:"40px"})])]),default:s(()=>[!u(e).loading&&f.value.length==0?(t(),m("div",R," \u041D\u0435\u0442 \u043F\u0440\u0435\u043F\u043E\u0434\u0430\u0432\u0430\u0442\u0435\u043B\u0435\u0439 ")):(t(),i(x,{key:1},{default:s(()=>[(t(!0),m(w,null,b(f.value,o=>(t(),i(L,{key:o.contactId,teacher:o},null,8,["teacher"]))),128))]),_:1}))]),_:1},8,["disable"])]),_:1}))}};export{C as default};
