import{a1 as G,r as k,c as _,k as e,p as n,y as I,l as i,j as o,E as s,m as d,n as L,F as v,q,B as u,a9 as P,u as m,A as c,v as y,x as p,a5 as w,t as z,ai as H,au as V}from"./index.53a38dab.js";import{Q as O}from"./QImg.ae886cdb.js";import{Q as R}from"./QScrollObserver.fcd704cf.js";import{_ as A,a as E}from"./PassItem.7492ad37.js";import{u as f}from"./shop.f9d6e48b.js";const F={key:1,style:{"padding-bottom":"80px"}},J=s("div",{class:"text-header text-h6"}," \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F ",-1),M={style:{"border-radius":"50%",height:"40px",width:"40px",overflow:"hidden","text-align":"center","line-height":"40px"},class:"q-mr-md bg-card-dark"},$={class:"q-mr-sm"},j=s("div",{class:"text-header text-h6 q-mb-sm q-mt-sm"}," \u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u044F \u043F\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438 ",-1),K={class:"row bg-card-light q-pa-sm border-sm text-center",style:{gap:"4px"}},N={class:"bg-card-dark border-xs"},U={key:0},W=s("div",{style:{"font-size":"12px"}},"\u043D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430",-1),X={key:1},Y=s("div",{style:{"font-size":"12px"}},"\u0432\u0435\u0441\u044C \u0434\u0435\u043D\u044C",-1),Z={key:2},ee={style:{"font-size":"12px"}},se=s("br",null,null,-1),te={key:0},ae=s("div",{class:"text-header text-h6 q-mb-sm"}," \u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 ",-1),le=["innerHTML"],pe={__name:"PassPage",setup(oe){const B=G().currentRoute.value;f().getPass(B.params.passId);const r=k(!0),x=k(!1),a=_(()=>f().pass),h=_(()=>f().grouptypes),S=()=>{r.value=!r.value},Q=_(()=>r.value?"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0432\u0441\u0435":"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C"),D=l=>a.value.disabledDays!=null?a.value.disabledDays.includes(l):!1,T=l=>JSON.stringify(a.value.allowedTimes[l])==JSON.stringify(["",""])||typeof a.value.allowedTimes[l]=="undefined",C=l=>{x.value=l.position.top>160};return(l,g)=>(e(),n("div",{onScroll:g[0]||(g[0]=(...t)=>l.scrollHandler&&l.scrollHandler(...t))},[I(f)().loading?(e(),i(P,{key:0,class:"absolute-center",color:"primary",size:"50px"})):(e(),n("div",F,[o(A,{pass:a.value},null,8,["pass"]),s("div",null,[J,s("div",null,[o(L,{class:"border-sm relative-position"},{default:d(()=>[(e(!0),n(v,null,q(h.value,(t,b)=>(e(),n(v,{key:t.id},[b<3||!r.value?(e(),i(z,{key:0,to:"/grouptypes/"+t.grouptypeId,class:w([{blurGrouptype:b==2&&r.value},"bg-card-light list-item-border q-py-sm q-my-sm"])},{default:d(()=>[o(m,{avatar:"",class:"no-padding"},{default:d(()=>[s("div",M,[t.photo?(e(),i(O,{key:0,src:t.photo,"spinner-color":"white",style:{height:"40px",width:"40px"}},null,8,["src"])):(e(),i(c,{key:1,class:"text-white",style:{"font-size":"20px"},name:"fa-solid fa-image"}))])]),_:2},1024),o(m,null,{default:d(()=>[y(p(t.name),1)]),_:2},1024),l.noLink?u("",!0):(e(),i(m,{key:0,avatar:""},{default:d(()=>[o(c,{class:"text-icon-default",style:{"font-size":"16px"},name:"fa-solid fa-angle-right"})]),_:1}))]),_:2},1032,["to","class"])):u("",!0)],64))),128)),h.value.length>3?H((e(),i(z,{key:0,clickable:"",onClick:S,class:w(["passGrouptypesCollapseBtn",{collapsedGrouptypes:r.value}])},{default:d(()=>[o(m,null,{default:d(()=>[s("div",null,[s("span",$,p(Q.value),1),r.value?(e(),i(c,{key:0,class:"text-icon-default",style:{"font-size":"16px"},name:"fa-solid fa-angle-down"})):(e(),i(c,{key:1,class:"text-icon-default",style:{"font-size":"16px"},name:"fa-solid fa-angle-up"}))])]),_:1})]),_:1},8,["class"])),[[V]]):u("",!0)]),_:1})])]),j,s("div",null,[s("div",K,[(e(),n(v,null,q(7,t=>s("div",{class:"col",key:t},[s("div",N,p(t),1),s("div",null,[D(t)?(e(),n("span",U,[o(c,{class:"text-icon-default q-mt-xs q-mb-xs",style:{"font-size":"20px"},name:"fa-solid fa-xmark"}),W])):T(t)?(e(),n("span",X,[o(c,{class:"text-icon-default q-mt-xs q-mb-xs",style:{"font-size":"18px"},name:"fa-solid fa-infinity"}),Y])):(e(),n("span",Z,[o(c,{class:"text-icon-default q-mt-xs q-mb-xs",style:{"font-size":"18px"},name:"fa-solid fa-clock"}),s("div",ee,[y(" c "+p(a.value.allowedTimes[t][0])+" ",1),se,y(" \u0434\u043E "+p(a.value.allowedTimes[t][1]),1)])]))])])),64))])]),a.value.description?(e(),n("div",te,[ae,s("div",{class:"bg-card-light q-pa-sm border-sm",innerHTML:a.value.description},null,8,le)])):u("",!0),x.value?(e(),i(E,{key:1,id:"fixedPassBuBtn",class:"fixed-bottom",pass:a.value},null,8,["pass"])):u("",!0),o(R,{onScroll:C})]))],32))}};export{pe as default};
