import{Q as g,a as u}from"./QInfiniteScroll.c5ebe077.js";import{Q as _}from"./QPullToRefresh.16b33374.js";import{_ as h}from"./EventItem.a42bee61.js";import{aS as y,aT as x,c as S,S as k,k as s,l as c,m as i,j as m,E as v,y as o,p as r,F as b,q as I}from"./index.f4c3336a.js";import"./TouchPan.f9c1d5b8.js";const A=y("admissions",{state:()=>({admissions:Array(),meta:{},page:0,loading:!1}),actions:{async getAdmissions(){this.loading=!0;const a=await x.get(`/account/admissions?page=${this.page}`);this.admissions=this.admissions.concat(a.data.data),this.meta=a.data.meta,this.loading=!1},async nextPage(){this.page++,await this.getAdmissions()},reset(){this.admissions=[],this.meta=[],this.page=0}}}),B={key:0},P={key:1},Q={class:"row justify-center q-my-md"},q={__name:"AdmissionsPage",setup(a){const e=A(),l=S(()=>typeof e.meta.pagination=="undefined"?!1:e.meta.pagination.current_page>=e.meta.pagination.total_pages);k(()=>{e.reset()});const p=n=>{e.reset(),e.nextPage().then(()=>n())},f=(n,d)=>{e.nextPage().then(()=>d())};return(n,d)=>(s(),c(_,{onRefresh:p},{default:i(()=>[m(u,{onLoad:f,offset:250,disable:l.value},{loading:i(()=>[v("div",Q,[m(g,{color:"primary",size:"40px"})])]),default:i(()=>[!o(e).loading&&o(e).admissions.length==0?(s(),r("div",B," \u041D\u0435\u0442 \u043F\u043E\u0441\u0435\u0449\u0435\u043D\u0438\u0439 ")):(s(),r("div",P,[(s(!0),r(b,null,I(o(e).admissions,t=>(s(),c(h,{event:t.event,hideFlags:!0,key:t.admissionId,pass_contactId:t.pass_contactId,isDebt:t.isDebt},null,8,["event","pass_contactId","isDebt"]))),128))]))]),_:1},8,["disable"])]),_:1}))}};export{q as default};
