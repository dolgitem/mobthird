import{a1 as w,c as m,r as c,w as Q,k as e,p as s,j as h,m as C,y as _,l as i,a9 as y,E as o,B as n,x as q,F as S,q as T,a5 as B}from"./index.f4c3336a.js";import{Q as G}from"./QVideo.8465cea5.js";import{Q as z}from"./QImg.4fc74398.js";import{Q as H}from"./QScrollObserver.f8713462.js";import{Q as I}from"./QPullToRefresh.16b33374.js";import{_ as R}from"./EventItem.a42bee61.js";import{u as l}from"./grouptypes.9aaa1374.js";import"./TouchPan.f9c1d5b8.js";const V={style:{background:"rgba(0,0,0,.9)"}},E={key:1},L={class:"full-width fixed-top",style:{top:"50px"}},N={class:"text-center text-h4"},P={key:1,class:"q-pb-md"},F=o("div",{class:"text-header text-h6 q-mb-sm"}," \u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 ",-1),M=["innerHTML"],j=o("div",{class:"text-header text-h6 q-mb-sm"}," \u0411\u043B\u0438\u0436\u0430\u0439\u0448\u0438\u0435 \u0437\u0430\u043D\u044F\u0442\u0438\u044F ",-1),D={key:1},O={key:0},te={__name:"GrouptypePage",setup($){const u=w().currentRoute.value;l().getGrouptype(u.params.grouptypeId);const t=m(()=>l().grouptype),d=m(()=>l().events),g=c(null),x=r=>{l().getGrouptype(u.params.grouptypeId),r()},a=c(!0),f=()=>{a.value=!1,p.value=200,window.scrollTo({top:200}),window.scrollTo({top:0,behavior:"smooth"})};c(!1);const p=c(200),b=(r,k)=>{r.position.top==0&&r.direction=="up"&&!a.value&&(console.log("condition change"),p.value=120),!a.value&&r.position.top>p.value&&r.direction=="down"&&(a.value=!0,window.scrollTo({top:0}))};return Q(t,()=>{}),(r,k)=>(e(),s("div",V,[h(I,{onRefresh:x,ref_key:"scrollContainer",ref:g},{default:C(()=>[_(l)().loading?(e(),i(y,{key:0,class:"absolute-center",color:"primary",size:"50px"})):(e(),s("div",E,[o("div",L,[a.value?(e(),s("div",{key:0,onClick:f,style:{"background-color":"grey",opacity:".5",position:"absolute",top:"0",bottom:"0",left:"0",right:"0","z-index":"1"}})):n("",!0),t.value.video?(e(),i(G,{key:1,class:"full-width",src:t.value.video+"?autoplay=1",ratio:16/9,style:{}},null,8,["src"])):n("",!0)]),o("div",{class:B(["relative-position bg-white q-px-md",{mt230:a.value}]),style:{"margin-top":"370px","padding-top":"120px","margin-left":"-16px","margin-right":"-16px","min-height":"400px","border-top-left-radius":"16px","border-top-right-radius":"16px"}},[t.value.photo?(e(),i(z,{key:0,style:{position:"absolute",top:"-100px","border-radius":"50%",width:"200px",height:"200px",left:"calc(50% - 100px)"},src:t.value.photo},null,8,["src"])):n("",!0),o("div",N,q(t.value.name),1),t.value.description?(e(),s("div",P,[F,o("div",{class:"bg-card-light q-pa-sm border-sm",innerHTML:t.value.description},null,8,M)])):n("",!0),o("div",null,[j,o("div",null,[_(l)().loadingEvents?(e(),i(y,{key:0,class:"absolute-center",color:"primary",size:"50px"})):(e(),s("div",D,[(e(!0),s(S,null,T(d.value,v=>(e(),i(R,{key:v.eventId,event:v},null,8,["event"]))),128)),d.value.length==0?(e(),s("div",O," \u041D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0438\u0445 \u0437\u0430\u043D\u044F\u0442\u0438\u0439 ")):n("",!0)]))])])],2)])),h(H,{onScroll:b,"scroll-target":"scrollContainer"})]),_:1},512)]))}};export{te as default};
