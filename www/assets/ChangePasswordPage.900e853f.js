import{a2 as N,r as o,c as d,k as l,p as g,E as s,l as i,j as p,m as w,ad as q,G as E,aU as Q,D as U,A as t,x as $,B as x,v as z}from"./index.3c8f5d62.js";const A={class:"q-pa-sm q-mt-md border-sm bg-field-default"},F=s("div",null,"\u041F\u0430\u0440\u043E\u043B\u044C \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C:",-1),I=s("span",{class:"q-ml-sm"},"5 \u0438 \u0431\u043E\u043B\u0435\u0435 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432",-1),L=s("span",{class:"q-ml-sm"},"\u0431\u0443\u043A\u0432\u044B",-1),j=s("span",{class:"q-ml-sm"},"\u0446\u0438\u0444\u0440\u044B",-1),G={key:0},K={key:1},S={__name:"ChangePasswordPage",setup(O){const B=N(),e=o(""),n=o(""),m=o(!1),f=o(!1),c=o(!1),_=o(!1),C=d(()=>e.value==n.value),P=d(()=>e.value.length==0||e.value!=n.value||!k.value),v=o([]),h=u=>v.value[u]&&v.value[u].length>0,D=()=>{v.value=[],_.value=!0,Q.post("/account/update-password",{new_password:e.value,repeat_password:n.value}).then(function(u){c.value=!1,_.value=!1,U.create({title:"\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435 \u043F\u0430\u0440\u043E\u043B\u044F",message:"\u041F\u0430\u0440\u043E\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0438\u0437\u043C\u0435\u043D\u0435\u043D",maximized:!0,position:"bottom",persistent:!0,ok:{label:"\u041E\u043A",class:"full-width q-mt-md standoutButton"}}).onOk(()=>{B.push("/account/edit")})}).catch(u=>{c.value=!1,_.value=!1,v.value=u.response.data.errors})},y=d(()=>e.value.length>=5),b=d(()=>/[a-zA-Z]/.test(e.value)),V=d(()=>/\d/.test(e.value)),k=d(()=>y.value&&b.value&&V.value);return(u,a)=>(l(),g("div",null,[s("div",A,[F,s("div",null,[s("div",null,[y.value?(l(),i(t,{key:0,name:"fa-solid fa-check",class:"icons-success"})):(l(),i(t,{key:1,name:"fa-solid fa-close",class:"icons-error"})),I]),s("div",null,[b.value?(l(),i(t,{key:0,name:"fa-solid fa-check",class:"icons-success"})):(l(),i(t,{key:1,name:"fa-solid fa-close",class:"icons-error"})),L]),s("div",null,[V.value?(l(),i(t,{key:0,name:"fa-solid fa-check",class:"icons-success"})):(l(),i(t,{key:1,name:"fa-solid fa-close",class:"icons-error"})),j])])]),s("div",null,[p(q,{standout:"standoutField",modelValue:e.value,"onUpdate:modelValue":a[1]||(a[1]=r=>e.value=r),class:"q-mt-md",type:m.value?"text":"password",label:"\u041D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",error:!c.value&&h("new_password")||!k.value&&e.value.length>0,onKeyup:a[2]||(a[2]=r=>c.value=!0)},{append:w(()=>[p(t,{name:m.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[0]||(a[0]=r=>m.value=!m.value)},null,8,["name"])]),error:w(()=>[!c.value&&h("new_password")?(l(),g("span",G,$(v.value.new_password),1)):x("",!0),!k.value&&e.value.length>0?(l(),g("span",K,"\u041D\u0435\u043D\u0430\u0434\u0451\u0436\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C")):x("",!0)]),_:1},8,["modelValue","type","error"])]),s("div",null,[p(q,{standout:"standoutField",class:"q-mt-md",modelValue:n.value,"onUpdate:modelValue":a[4]||(a[4]=r=>n.value=r),type:f.value?"text":"password",label:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C",error:h("repeat_password")||!C.value&&n.value.length>0},{append:w(()=>[p(t,{name:f.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[3]||(a[3]=r=>f.value=!f.value)},null,8,["name"])]),error:w(()=>[z(" \u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442 ")]),_:1},8,["modelValue","type","error"])]),p(E,{class:"full-width q-mt-md standoutButton",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",onClick:D,disabled:P.value,loading:_.value},null,8,["disabled","loading"])]))}};export{S as default};
