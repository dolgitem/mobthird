import{a0 as U,ag as y,r as s,c as B,k as D,p as S,D as l,j as n,m as b,ab as g,a$ as _,ac as w,v as d,y as k,aa as q,E as I,aS as Q,a_ as E,x as V}from"./index.d21efca5.js";const F={class:"q-pa-sm q-mt-md border-sm bg-field-default"},N=l("div",null,"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043F\u043E\u043B \u0440\u0435\u0431\u0435\u043D\u043A\u0430",-1),R={class:"q-mt-md"},j=["href"],z=["href"],O={__name:"AddChildPage",setup(A){const f=U(),h=y(),r=s(""),u=s("male"),i=s(""),m=s(""),v=s(!1),C=B(()=>!v.value),c=s(!1),t=s([]),p=o=>t.value[o]&&t.value[o].length>0,x=()=>{t.value=[],c.value=!0,Q.post("/account/add-child",{name:r.value,gender:u.value,birthDate:i.value,note:m.value}).then(function(o){E.create({title:"\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0440\u0435\u0431\u0435\u043D\u043A\u0430",message:"\u0420\u0435\u0431\u0435\u043D\u043E\u043A \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D. \u041C\u043E\u0436\u0435\u0442\u0435 \u0432\u043E\u0439\u0442\u0438 \u0432 \u0435\u0433\u043E \u043F\u0440\u043E\u0444\u0438\u043B\u044C",maximized:!0,position:"bottom",persistent:!0,ok:{label:"\u0412\u043E\u0439\u0442\u0438 \u043F\u043E\u0434 \u0440\u0435\u0431\u0435\u043D\u043A\u043E\u043C",class:"full-width q-mt-md standoutButton"},cancel:{label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",class:"full-width q-mt-md standoutButton"}}).onOk(()=>{h.changeContactId(o.data.contactId),h.getClientInfo().then(()=>{f.push("/")})}).onCancel(()=>{f.go(-1)})}).catch(o=>{t.value=o.response.data.errors}).finally(()=>{c.value=!1})};return(o,e)=>(D(),S("div",null,[l("div",null,[n(g,{standout:"standoutField",class:"q-mt-md",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),label:"\u0424\u0418\u041E \u0420\u0435\u0431\u0435\u043D\u043A\u0430",error:p("name")},{error:b(()=>[d(V(t.value.name),1)]),_:1},8,["modelValue","error"]),l("div",F,[N,l("div",null,[n(_,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),val:"male",label:"\u041C\u0430\u043B\u044C\u0447\u0438\u043A"},null,8,["modelValue"])]),l("div",null,[n(_,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=a=>u.value=a),val:"female",label:"\u0414\u0435\u0432\u043E\u0447\u043A\u0430"},null,8,["modelValue"])])]),n(g,{standout:"standoutField",class:"q-mt-md",type:"date",modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=a=>i.value=a),label:"\u0414\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u0414\u0414.\u041C\u041C.\u0413\u0413\u0413\u0413",error:p("birthDate")},{error:b(()=>[d(V(t.value.birthDate),1)]),_:1},8,["modelValue","error"]),n(g,{standout:"standoutField",class:"q-mt-md",modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=a=>m.value=a),label:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",type:"textarea",autogrow:"",error:p("note")},{error:b(()=>[d(V(t.value.note),1)]),_:1},8,["modelValue","error"]),l("div",R,[n(w,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=a=>v.value=a)},null,8,["modelValue"]),d(),l("span",null,[d("\u0421\u043E\u0433\u043B\u0430\u0441\u0435\u043D \u0441 "),l("a",{href:k(q)().settings.privacyURL,target:"_blank"},"\u043F\u043E\u043B\u0438\u0442\u0438\u043A\u043E\u0439 \u043A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438",8,j),d(" \u0438 "),l("a",{href:k(q)().settings.policyUrl,target:"_blank"},"\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u043C \u0441\u043E\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u0435\u043C",8,z)])])]),n(I,{class:"full-width q-mt-md standoutButton",label:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043D\u043E\u0432\u043E\u0433\u043E \u0420\u0435\u0431\u0435\u043D\u043A\u0430",disabled:C.value,loading:c.value,onClick:x},null,8,["disabled","loading"])]))}};export{O as default};
