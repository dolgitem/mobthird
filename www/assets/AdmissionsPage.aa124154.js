import{Q as g,a as u}from"./QInfiniteScroll.543176ff.js";import{Q as _}from"./QPullToRefresh.9a442321.js";import{_ as h}from"./EventItem.3a812e76.js";import{aT as y,aU as x,c as k,U as v,k as s,l as c,m as i,j as m,E as b,y as o,p as r,F as I,q as S}from"./index.3c8f5d62.js";import"./TouchPan.62eac7f9.js";const A=y("admissions",{state:()=>({admissions:Array(),meta:{},page:0,loading:!1}),actions:{async getAdmissions(){this.loading=!0;const a=await x.get(`/account/admissions?page=${this.page}`);this.admissions=this.admissions.concat(a.data.data),this.meta=a.data.meta,this.loading=!1},async nextPage(){this.page++,await this.getAdmissions()},reset(){this.admissions=[],this.meta=[],this.page=0}}}),B={key:0},P={key:1},Q={class:"row justify-center q-my-md"},j={__name:"AdmissionsPage",setup(a){const e=A(),l=k(()=>typeof e.meta.pagination=="undefined"?!1:e.meta.pagination.current_page>=e.meta.pagination.total_pages);v(()=>{e.reset()});const p=n=>{e.reset(),e.nextPage().then(()=>n())},f=(n,d)=>{e.nextPage().then(()=>d())};return(n,d)=>(s(),c(_,{onRefresh:p},{default:i(()=>[m(u,{onLoad:f,offset:250,disable:l.value},{loading:i(()=>[b("div",Q,[m(g,{color:"primary",size:"40px"})])]),default:i(()=>[!o(e).loading&&o(e).admissions.length==0?(s(),r("div",B," \u041D\u0435\u0442 \u043F\u043E\u0441\u0435\u0449\u0435\u043D\u0438\u0439 ")):(s(),r("div",P,[(s(!0),r(I,null,S(o(e).admissions,t=>(s(),c(h,{event:t.event,hideFlags:!0,key:t.admissionId,pass_contactId:t.pass_contactId,isDebt:t.isDebt},null,8,["event","pass_contactId","isDebt"]))),128))]))]),_:1},8,["disable"])]),_:1}))}};export{j as default};
