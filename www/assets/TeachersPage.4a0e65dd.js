import{c as h,r as d,S as g,w as v,aV as y,k as t,l as i,m as s,j as l,A as S,y as u,ac as k,E as Q,p as m,n as x,q as V,F as b}from"./index.53a38dab.js";import{Q as w,a as B}from"./QInfiniteScroll.f494e9d6.js";import{Q as I}from"./QPullToRefresh.0780c63c.js";import{_ as L}from"./TeacherItem.a9af84cc.js";import{u as P}from"./teachers.ffd67da4.js";import"./TouchPan.b19eb201.js";import"./QImg.ae886cdb.js";const T={key:0},j={class:"row justify-center q-my-md"},C={__name:"TeachersPage",setup(q){const e=P(),f=h(()=>e.teachers),c=d(null),a=d(!1);g(()=>{e.reset(),e.resetSearch()});const p=(r,n)=>{e.nextPage().then(()=>{n(),a.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})},_=r=>{a.value=!1,e.reset(),e.nextPage().then(()=>{r(),a.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})};return v(()=>e.search,y(async r=>{a.value=!1,e.reset(),c.value&&c.value.trigger()},300)),(r,n)=>(t(),i(I,{onRefresh:_},{default:s(()=>[l(k,{standout:"",dense:"",clearable:"",label:"\u041F\u043E\u0438\u0441\u043A",modelValue:u(e).search,"onUpdate:modelValue":n[0]||(n[0]=o=>u(e).search=o)},{prepend:s(()=>[l(S,{name:"fa-solid fa-search"})]),_:1},8,["modelValue"]),l(B,{onLoad:p,offset:50,ref_key:"infiniteScroll",ref:c,disable:a.value},{loading:s(()=>[Q("div",j,[l(w,{color:"primary",size:"40px"})])]),default:s(()=>[!u(e).loading&&f.value.length==0?(t(),m("div",T," \u041D\u0435\u0442 \u043F\u0440\u0435\u043F\u043E\u0434\u0430\u0432\u0430\u0442\u0435\u043B\u0435\u0439 ")):(t(),i(x,{key:1},{default:s(()=>[(t(!0),m(b,null,V(f.value,o=>(t(),i(L,{key:o.contactId,teacher:o},null,8,["teacher"]))),128))]),_:1}))]),_:1},8,["disable"])]),_:1}))}};export{C as default};
