import{af as q,a3 as Y,c as s,a4 as r,a2 as B,k as a,p as t,y as C,l as w,E as i,F as y,q as v,aa as E,x as m,a6 as O,an as W,B as z}from"./index.3c8f5d62.js";const F={key:1},I={class:"calendar-header row"},P={class:"calendar-body row"},T=["onClick"],N={class:"calendar-day-item calendar-day-date q-px-xs q-ma-xs border-xxs"},V={key:0,class:"calendar-day-item q-px-xs q-ma-xs border-xxs ellipsis tetxt-left"},R={__name:"ScheduleMonthPage",setup(L){const x=q(),h=Y();h.period="month",x.getEvents();const n=s(()=>h.currentDate),g=s(()=>r.formatDate(n.value,"YYYY-MM-DD")),l=s(()=>r.formatDate(n.value,"YYYY")),d=s(()=>r.formatDate(n.value,"MM")),k=["\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431","\u0412\u0441"],D=s(()=>{const o=r.daysInMonth(n.value),c=[];for(let e=1;e<=o;e++){const _=e.toString().padStart(2,"0");c.push(_)}return c}),f=s(()=>r.getDayOfWeek(r.startOfDate(n.value,"month"))),b=s(()=>r.getDayOfWeek(r.endOfDate(n.value,"month"))),S=B(),M=o=>{h.goToMonthDay(o),S.push("/schedule")},p=s(()=>o=>x.events.filter(c=>c.date==o));return(o,c)=>(a(),t("div",null,[C(x).loading?(a(),w(E,{key:0,color:"primary",size:"50px"})):(a(),t("div",F,[i("div",I,[(a(),t(y,null,v(k,e=>i("div",{key:e,class:"calendar-header-day calendar-day-item q-px-xs q-ma-xs border-xs"},m(e),1)),64))]),i("div",P,[(a(!0),t(y,null,v(f.value-1,e=>(a(),t("div",{key:"blank-"+e,class:"calendar-day empty",style:{"border-bottom":"1px solid grey",padding:"10px 0"}}))),128)),(a(!0),t(y,null,v(D.value,(e,_)=>(a(),t("div",{key:"date-"+_,class:"calendar-day",style:{"border-bottom":"1px solid grey",padding:"10px 0","min-height":"150px"},onClick:u=>M(e)},[i("div",{class:O([{"icon-click":l.value+"-"+d.value+"-"+e==g.value&&p.value(l.value+"-"+d.value+"-"+e).length>0},"border-xs q-py-sm"])},[i("div",N,m(e),1),(a(!0),t(y,null,v(p.value(l.value+"-"+d.value+"-"+e).slice(0,3),u=>(a(),t("div",{class:"calendar-day-item q-px-xs q-ma-xs border-xxs ellipsis",key:u.eventId,style:W({borderTop:"2px solid "+u.color,opacity:u.isPast?".6":1})},m(u.group.name),5))),128)),p.value(l.value+"-"+d.value+"-"+e).length>3?(a(),t("div",V," +"+m(p.value(l.value+"-"+d.value+"-"+e).length-3),1)):z("",!0)],2)],8,T))),128)),(a(!0),t(y,null,v(7-b.value,e=>(a(),t("div",{key:"end-blank-"+e,class:"calendar-day empty",style:{"border-bottom":"1px solid grey",padding:"10px 0"}}))),128))])]))]))}};export{R as default};
