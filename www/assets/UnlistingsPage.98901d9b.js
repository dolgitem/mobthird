import{Q as u,a as f}from"./QInfiniteScroll.fb4c13e3.js";import{Q as h}from"./QPullToRefresh.53e3780d.js";import{_}from"./EventItem.a2d6fa2c.js";import{aR as y,aS as x,c as k,R as v,k as t,l as g,m as n,j as c,D as S,y as i,p as o,F as B,q as P}from"./index.d21efca5.js";import"./TouchPan.239cc0c7.js";const Q=y("unlistings",{state:()=>({listings:[],loading:!1,meta:{},page:0}),actions:{async getUnlistings(){this.loading=!0;const s=await x.get(`/account/unlistings?page=${this.page}`);this.listings=this.listings.concat(s.data.data),this.meta=s.data.meta,this.loading=!1},async nextPage(){this.page++,await this.getUnlistings()},reset(){this.listings=[],this.meta=[],this.page=0}}}),U={key:0},w={key:1},R={class:"row justify-center q-my-md"},q={__name:"UnlistingsPage",setup(s){const e=Q(),d=k(()=>typeof e.meta.pagination=="undefined"?!1:e.meta.pagination.current_page>=e.meta.pagination.total_pages);v(()=>{e.reset()});const p=a=>{e.reset(),e.nextPage().then(()=>a())},m=(a,r)=>{e.nextPage().then(()=>r())};return(a,r)=>(t(),g(h,{onRefresh:p},{default:n(()=>[c(f,{onLoad:m,offset:250,disable:d.value},{loading:n(()=>[S("div",R,[c(u,{color:"primary",size:"40px"})])]),default:n(()=>[!i(e).loading&&i(e).listings.length==0?(t(),o("div",U," \u041D\u0435\u0442 \u043E\u0442\u043C\u0435\u043D \u0437\u0430\u043F\u0438\u0441\u0435\u0439 ")):(t(),o("div",w,[(t(!0),o(B,null,P(i(e).listings,l=>(t(),g(_,{event:l.event,hideFlags:!0,key:l.listingId},null,8,["event"]))),128))]))]),_:1},8,["disable"])]),_:1}))}};export{q as default};
