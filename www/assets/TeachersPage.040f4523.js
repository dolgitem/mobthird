import{c as h,r as f,U as g,w as v,aW as y,k as t,l as i,m as s,j as l,A as k,y as u,ad as Q,E as S,p as m,n as x,q as b,F as w}from"./index.3c8f5d62.js";import{Q as B,a as I}from"./QInfiniteScroll.543176ff.js";import{Q as V}from"./QPullToRefresh.9a442321.js";import{_ as L}from"./TeacherItem.97ff1212.js";import{u as P}from"./teachers.957ff6a1.js";import"./TouchPan.62eac7f9.js";import"./QImg.80ebbf30.js";const T={key:0},U={class:"row justify-center q-my-md"},C={__name:"TeachersPage",setup(j){const e=P(),d=h(()=>e.teachers),c=f(null),a=f(!1);g(()=>{e.reset(),e.resetSearch()});const p=(r,n)=>{e.nextPage().then(()=>{n(),a.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})},_=r=>{a.value=!1,e.reset(),e.nextPage().then(()=>{r(),a.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})};return v(()=>e.search,y(async r=>{a.value=!1,e.reset(),c.value&&c.value.trigger()},300)),(r,n)=>(t(),i(V,{onRefresh:_},{default:s(()=>[l(Q,{standout:"",dense:"",clearable:"",label:"\u041F\u043E\u0438\u0441\u043A",modelValue:u(e).search,"onUpdate:modelValue":n[0]||(n[0]=o=>u(e).search=o)},{prepend:s(()=>[l(k,{name:"fa-solid fa-search"})]),_:1},8,["modelValue"]),l(I,{onLoad:p,offset:50,ref_key:"infiniteScroll",ref:c,disable:a.value},{loading:s(()=>[S("div",U,[l(B,{color:"primary",size:"40px"})])]),default:s(()=>[!u(e).loading&&d.value.length==0?(t(),m("div",T," \u041D\u0435\u0442 \u043F\u0440\u0435\u043F\u043E\u0434\u0430\u0432\u0430\u0442\u0435\u043B\u0435\u0439 ")):(t(),i(x,{key:1},{default:s(()=>[(t(!0),m(w,null,b(d.value,o=>(t(),i(L,{key:o.contactId,teacher:o},null,8,["teacher"]))),128))]),_:1}))]),_:1},8,["disable"])]),_:1}))}};export{C as default};
