import{Q as u,a as f}from"./QInfiniteScroll.543176ff.js";import{Q as h}from"./QPullToRefresh.9a442321.js";import{_}from"./EventItem.3a812e76.js";import{aT as y,aU as x,c as k,U as v,k as t,l as g,m as n,j as c,E as U,y as i,p as o,F as S,q as B}from"./index.3c8f5d62.js";import"./TouchPan.62eac7f9.js";const P=y("unlistings",{state:()=>({listings:[],loading:!1,meta:{},page:0}),actions:{async getUnlistings(){this.loading=!0;const s=await x.get(`/account/unlistings?page=${this.page}`);this.listings=this.listings.concat(s.data.data),this.meta=s.data.meta,this.loading=!1},async nextPage(){this.page++,await this.getUnlistings()},reset(){this.listings=[],this.meta=[],this.page=0}}}),Q={key:0},w={key:1},b={class:"row justify-center q-my-md"},E={__name:"UnlistingsPage",setup(s){const e=P(),d=k(()=>typeof e.meta.pagination=="undefined"?!1:e.meta.pagination.current_page>=e.meta.pagination.total_pages);v(()=>{e.reset()});const p=a=>{e.reset(),e.nextPage().then(()=>a())},m=(a,r)=>{e.nextPage().then(()=>r())};return(a,r)=>(t(),g(h,{onRefresh:p},{default:n(()=>[c(f,{onLoad:m,offset:250,disable:d.value},{loading:n(()=>[U("div",b,[c(u,{color:"primary",size:"40px"})])]),default:n(()=>[!i(e).loading&&i(e).listings.length==0?(t(),o("div",Q," \u041D\u0435\u0442 \u043E\u0442\u043C\u0435\u043D \u0437\u0430\u043F\u0438\u0441\u0435\u0439 ")):(t(),o("div",w,[(t(!0),o(S,null,B(i(e).listings,l=>(t(),g(_,{event:l.event,hideFlags:!0,key:l.listingId},null,8,["event"]))),128))]))]),_:1},8,["disable"])]),_:1}))}};export{E as default};
