import{c as h,r as m,R as v,w as x,aU as Q,k as n,l as u,m as a,j as t,A as p,y as c,ab as S,D as b,p as g,n as k,q as I,t as w,u as d,v as V,x as B,F as q}from"./index.d21efca5.js";import{Q as L,a as P}from"./QInfiniteScroll.fb4c13e3.js";import{Q as T}from"./QPullToRefresh.53e3780d.js";import{u as z}from"./grouptypes.63e3bae2.js";import"./TouchPan.239cc0c7.js";const D={key:0},N={class:"row justify-center q-my-md"},C={__name:"GrouptypesPage",setup(R){const e=z(),f=h(()=>e.grouptypes),i=m(null),s=m(!1);v(()=>{e.reset(),e.resetSearch()});const _=(r,l)=>{e.nextPage().then(()=>{l(),s.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})},y=r=>{s.value=!1,e.reset(),e.nextPage().then(()=>{r(),s.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})};return x(()=>e.search,Q(async r=>{s.value=!1,e.reset(),i.value&&i.value.trigger()},300)),(r,l)=>(n(),u(T,{onRefresh:y},{default:a(()=>[t(S,{standout:"",dense:"",clearable:"",label:"\u041F\u043E\u0438\u0441\u043A",modelValue:c(e).search,"onUpdate:modelValue":l[0]||(l[0]=o=>c(e).search=o)},{prepend:a(()=>[t(p,{name:"fa-solid fa-search"})]),_:1},8,["modelValue"]),t(P,{onLoad:_,offset:50,ref_key:"infiniteScroll",ref:i,disable:s.value},{loading:a(()=>[b("div",N,[t(L,{color:"primary",size:"40px"})])]),default:a(()=>[!c(e).loading&&f.value.length==0?(n(),g("div",D," \u041D\u0435\u0442 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0439 ")):(n(),u(k,{key:1},{default:a(()=>[(n(!0),g(q,null,I(f.value,o=>(n(),u(w,{to:"grouptypes/"+o.groupTypeId,class:"bg-card-light list-item-border q-py-sm q-my-sm",key:o.groupTypeId},{default:a(()=>[t(d,{avatar:"",class:"no-padding",style:{"min-width":"30px"}},{default:a(()=>[t(p,{class:"text-icon-default",style:{"font-size":"16px"},name:"fa-solid fa-user"})]),_:1}),t(d,null,{default:a(()=>[V(B(o.name),1)]),_:2},1024),t(d,{avatar:""},{default:a(()=>[t(p,{class:"text-icon-default",style:{"font-size":"16px"},name:"fa-solid fa-angle-right"})]),_:1})]),_:2},1032,["to"]))),128))]),_:1}))]),_:1},8,["disable"])]),_:1}))}};export{C as default};
