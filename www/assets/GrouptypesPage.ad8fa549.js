import{c as h,r as m,S as v,w as x,aV as S,k as n,l as u,m as a,j as t,A as c,y as p,ac as Q,E as k,p as g,n as I,q as b,t as V,u as d,v as w,x as B,F as q}from"./index.53a38dab.js";import{Q as L,a as P}from"./QInfiniteScroll.f494e9d6.js";import{Q as T}from"./QPullToRefresh.0780c63c.js";import{u as z}from"./grouptypes.79825417.js";import"./TouchPan.b19eb201.js";const N={key:0},j={class:"row justify-center q-my-md"},A={__name:"GrouptypesPage",setup(D){const e=z(),f=h(()=>e.grouptypes),i=m(null),s=m(!1);v(()=>{e.reset(),e.resetSearch()});const _=(r,l)=>{e.nextPage().then(()=>{l(),s.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})},y=r=>{s.value=!1,e.reset(),e.nextPage().then(()=>{r(),s.value=e.meta.pagination.current_page>=e.meta.pagination.total_pages})};return x(()=>e.search,S(async r=>{s.value=!1,e.reset(),i.value&&i.value.trigger()},300)),(r,l)=>(n(),u(T,{onRefresh:y},{default:a(()=>[t(Q,{standout:"",dense:"",clearable:"",label:"\u041F\u043E\u0438\u0441\u043A",modelValue:p(e).search,"onUpdate:modelValue":l[0]||(l[0]=o=>p(e).search=o)},{prepend:a(()=>[t(c,{name:"fa-solid fa-search"})]),_:1},8,["modelValue"]),t(P,{onLoad:_,offset:50,ref_key:"infiniteScroll",ref:i,disable:s.value},{loading:a(()=>[k("div",j,[t(L,{color:"primary",size:"40px"})])]),default:a(()=>[!p(e).loading&&f.value.length==0?(n(),g("div",N," \u041D\u0435\u0442 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0439 ")):(n(),u(I,{key:1},{default:a(()=>[(n(!0),g(q,null,b(f.value,o=>(n(),u(V,{to:"grouptypes/"+o.groupTypeId,class:"bg-card-light list-item-border q-py-sm q-my-sm",key:o.groupTypeId},{default:a(()=>[t(d,{avatar:"",class:"no-padding",style:{"min-width":"30px"}},{default:a(()=>[t(c,{class:"text-icon-default",style:{"font-size":"16px"},name:"fa-solid fa-user"})]),_:1}),t(d,null,{default:a(()=>[w(B(o.name),1)]),_:2},1024),t(d,{avatar:""},{default:a(()=>[t(c,{class:"text-icon-default",style:{"font-size":"16px"},name:"fa-solid fa-angle-right"})]),_:1})]),_:2},1032,["to"]))),128))]),_:1}))]),_:1},8,["disable"])]),_:1}))}};export{A as default};
